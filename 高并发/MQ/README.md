

### JMQ

Topic、Partition、队列(每个分片都有队列数)


JMQ消费：线程数是对某一个分片的线程数，分片越多，总线程数越多

连接数：分片数量*客户端实例数量

拉取消息：会在队列加锁，保证不重复消费

队列数：每个topic在每个分片的队列的数量

批量大小：拉取队列的多个消息,消息list一次拉取的大小

一个分片对应1主1从(都是一个物理机)。生产消费都在主上，从起备份的作用

重试：onMessage抛错，会本地重试2次，仍失败后向服务端返回失败状态，同时把失败的消息当道mysql，保证不会阻塞后面的消息